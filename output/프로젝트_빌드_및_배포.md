# 프로젝트 빌드 및 배포

## 시스템 환경 및 구성

- OS: Windows10, Linux
- Backend Framework: Spring Boot 2.7.1
- Frontend Framework: React 18.2.0
- DB: mysql Ver 8.0.30-0ubuntu0.20.04.2 (Ubuntu)
- WAS: Gradle
- JVM: openJDK (1.8.0_192)
- Node.js: 16.13.1
- WebRTC: openVidu 2.20.0
- Docker: 20.10.12
- WEB: Nginx (1.18.0)

## DB 접속 정보 및 프로퍼티
### Database 접근

> ID: seveneleven
> Password: 7c111

## EC2에 MySQL 설치 및 세팅

### MySQL 설치 및 세팅
```powershell
# 우분투 서버 업데이트
$ sudo apt-get update

# 설치
$ sudo apt-get install mysql-server

# 구동
$ sudo systemctl start mysql.service
```

```powershell
# MySQL 접속
$ sudo mysql

# 현재 mysql에서 기본으로 세팅되어있는 유저 확인
mysql> SELECT user,authentication_string,plugin,host FROM mysql.user;
```

![image](/uploads/24b69a7b312f693a240f3b90dcd27da8/image.png)

```bash
# DB에 외부 접속하기 위해 새로운 계정 생성 (% : 어떤 ip로도 접속 가능하도록 하기 위함)
mysql> CREATE USER '계정이름'@'%' IDENTIFIED BY '비밀번호';

# 권한 부여
mysql> GRANT ALL PRIVILEGES ON *.* TO '계정이름'@'%' WITH GRANT OPTION;

mysql> FLUSH PRIVILEGES;
```

### MySQL Workbench 설치해서 EC2에 있는 DB와 연결하기

```powershell
# 외부 접속 허용 설정
$ cd /etc/mysql/mysql.conf.d
$ vi mysqld.cnf
```

- i 눌러서 입력 모드로 변경 후 bind-address 를 0.0.0.0 으로 수정 후 저장하고 나가기

![image](/uploads/aef0965954c94c806f1840695777ce38/image.png)

```powershell
# EC2 인스턴스의 3306 포트 열기
$ sudo ufw allow 3306

# MySQL 재시작
$ sudo systemctl restart mysql.service
```

- Workbench로 이동
    ![image](/uploads/2b83489d5937b38e6caa03c604154662/image.png)
    - Connection Name: 하고 싶은 Connection 명
    - SSH Hostname: 접속할 도메인 네임이나 IP
    - Username: 초반에 생성한 MySQL Username


